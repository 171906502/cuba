<!--
  ~ Copyright (c) 2008-2013 Haulmont. All rights reserved.
  ~ Use is subject to license terms, see http://www.cuba-platform.com/license for details.
  -->

<window xmlns="http://schemas.haulmont.com/cuba/window.xsd"
        class="com.haulmont.cuba.gui.app.core.file.MultiUploader"
        messagesPack="com.haulmont.cuba.gui.app.core.file"
        caption="msg://uploadFiles"
        focusComponent="multiUpload">

    <dsContext>
        <collectionDatasource id="filesDs" class="com.haulmont.cuba.core.entity.FileDescriptor" view="_local"
                              refreshMode="NEVER"/>
    </dsContext>

    <actions>
        <action id="windowCommit" caption="msg://actions.Ok" invoke="commitAndClose"/>
        <action id="windowClose" caption="msg://actions.Cancel" invoke="close"/>
    </actions>

    <layout spacing="true" expand="uploadsTable">
        <hbox spacing="true">
            <multiUpload id="multiUpload" icon="icons/upload.png"/>
            <button action="uploadsTable.remove" icon="icons/remove.png"/>
        </hbox>

        <table id="uploadsTable" editable="true" width="100%">
            <actions>
                <action id="remove"/>
            </actions>
            <columns>
                <column id="name" editable="true"
                        required="true" requiredMessage="msg://notNullFileNames"/>
                <column id="extension" editable="false"/>
                <column id="size" editable="false"/>
            </columns>
            <rows datasource="filesDs"/>
        </table>
        <frame id="windowActions" screen="editWindowActions"/>
    </layout>
</window>